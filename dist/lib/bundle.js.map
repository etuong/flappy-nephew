{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/sheen.js","webpack:///./lib/pipe.js","webpack:///./lib/game.js","webpack:///./lib/game_view.js","webpack:///./lib/flappy_sheen.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","sheen","[object Object]","ctx","properties","this","canvasHeight","y","x","width","height","gravity","lift","velocity","img","Image","src","nephew","flyWithHeart","heart","flyAudio","document","getElementById","dieAudio","drawImage","flag","play","stayInFrame","stopAtBottom","cloneNode","timer","setInterval","setTimeout","clearInterval","pipe","canvasWidth","pipeWidth","minPipeHeight","maxPipeHeight","minSpaceHeight","maxSpaceHeight","topPipeHeight","getRandomInt","bottomPipeHeight","calculateBottomPipe","speed","scored","hitAudio","spaceHeight","getSpaceHeight","gradient","createLinearGradient","addColorStop","lineWidth","strokeStyle","strokeRect","fillStyle","fillRect","min","max","Math","floor","random","maxSpaceAvailable","isHit","inRangeHor","inRangeVer","lib_game","pipes","frameCount","movePipe","started","ended","score","forEach","hit","key","unbind","onload","drawFrame","font","textAlign","fillText","strokeText","save","shadowColor","restore","push","drawPipes","removeOffscreenPipes","draw","hitGround","drawEndScreen","drawScore","drawStartScreen","onScreenPipes","filter","isOffScreen","move","checkCollision","updateScore","game_view","game","animate","bind","animation","interval","step","bindKeyToRestart","startGame","bindKeyToFly","up","bindKeyToStart","addEventListener","pristine","window","history","replaceState","location","href","form","Pristine","e","preventDefault","validate","style","display","Number","console","log","checked","canvasEl","innerWidth","innerHeight","getContext","start"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class Sheen {\n    constructor(ctx, properties) {\n        this.ctx = ctx;\n\n        this.canvasHeight = properties.canvasHeight;\n\n        // Initial position\n        this.y = (this.canvasHeight / 2);\n        this.x = 200;\n\n        // Size\n        this.width = 67;\n        this.height = 80;\n\n        // Physics\n        this.gravity = properties.gravity;\n        this.lift = -(properties.lift);\n        this.velocity = 0;\n\n        // Sheen image\n        this.img = new Image();\n        this.img.src = `assets/${properties.nephew}.png`;\n\n        // Heart image\n        if (properties.flyWithHeart) {\n            this.heart = new Image();\n            this.heart.src = \"assets/heart.png\";\n        }\n\n        // Get audio for flying and dying\n        this.flyAudio = document.getElementById(\"flyAudio\");\n        this.dieAudio = document.getElementById(\"dieAudio\");\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.img, this.x, this.y);\n    }\n\n    hitGround() {\n        const flag = this.y === this.canvasHeight;\n        if (flag) {\n            this.dieAudio.play();\n        }\n        return flag;\n    }\n\n    move() {\n        this.velocity += this.gravity;\n        this.velocity *= 0.9;\n        this.y += this.velocity;\n        this.stayInFrame();\n        this.stopAtBottom();\n    }\n\n    stayInFrame() {\n        if (this.y > this.canvasHeight) {\n            this.y = this.canvasHeight;\n            this.velocity = 0;\n        }\n    }\n\n    stopAtBottom() {\n        if (this.y < 0) {\n            this.y = 0;\n            this.velocity = 0;\n        }\n    }\n\n    up() {\n        this.velocity += this.lift;\n        this.flyAudio.cloneNode(true).play();\n\n        if (this.heart) {\n            const timer = setInterval(() => { this.ctx.drawImage(this.heart, this.x, this.y); }, 10)\n            setTimeout(() => clearInterval(timer), 200);\n        }\n    }\n};\n\nexport default Sheen;","class Pipe {\n    constructor(properties) {\n        this.canvasHeight = properties.canvasHeight;\n        this.x = properties.canvasWidth;\n        this.width = properties.pipeWidth;\n\n        this.minPipeHeight = properties.minPipeHeight;\n        this.maxPipeHeight = properties.maxPipeHeight;\n\n        this.minSpaceHeight = properties.minSpaceHeight;\n        this.maxSpaceHeight = properties.maxSpaceHeight;\n\n        this.topPipeHeight = this.getRandomInt(this.minPipeHeight, this.maxPipeHeight + 1);\n        this.bottomPipeHeight = this.calculateBottomPipe();\n\n        this.speed = properties.speed;\n        this.scored = false;\n\n        // Get audio for colliding\n        this.hitAudio = document.getElementById(\"hitAudio\");\n    }\n\n    calculateBottomPipe() {\n        const spaceHeight = this.getSpaceHeight();\n        return this.canvasHeight - this.topPipeHeight - spaceHeight;\n    }\n\n    draw(ctx) {\n        let gradient = ctx.createLinearGradient(this.x, 0, this.x + this.width, 0);\n        gradient.addColorStop(0, \"#33cc33\")\n        gradient.addColorStop(1, \"#99ff99\")\n\n        // Top pipe\n        ctx.lineWidth = 3;\n        ctx.strokeStyle = \"black\";\n        ctx.strokeRect(this.x, 0, this.width, this.topPipeHeight - 20);\n        ctx.fillStyle = gradient;\n        ctx.fillRect(this.x, 0, this.width, this.topPipeHeight - 20);\n        ctx.strokeRect(this.x - 5, this.topPipeHeight - 20, this.width + 10, 20);\n        ctx.fillRect(this.x - 5, this.topPipeHeight - 20, this.width + 10, 20);\n\n        // Bottom pipe\n        ctx.strokeRect(this.x, this.canvasHeight - (this.bottomPipeHeight - 20), this.width, this.bottomPipeHeight);\n        ctx.fillRect(this.x, this.canvasHeight - (this.bottomPipeHeight - 20), this.width, this.bottomPipeHeight);\n        ctx.strokeRect(this.x - 5, this.canvasHeight - this.bottomPipeHeight, this.width + 10, 20);\n        ctx.fillRect(this.x - 5, this.canvasHeight - this.bottomPipeHeight, this.width + 10, 20);\n    }\n\n    getRandomInt(min, max) {\n        return Math.floor(Math.random() * (max - min)) + min;\n    }\n\n    getSpaceHeight() {\n        const spaceAndBottomHeight = this.canvasHeight - this.topPipeHeight;\n        const maxSpaceAvailable = spaceAndBottomHeight - this.minPipeHeight;\n\n        if (maxSpaceAvailable > this.maxSpaceHeight) {\n            return this.getRandomInt(this.minSpaceHeight, this.maxSpaceHeight + 1);\n        } else {\n            return this.getRandomInt(this.minSpaceHeight, maxSpaceAvailable)\n        }\n    }\n\n    hit(sheen) {\n        const isHit = this.inRangeHor(sheen) && this.inRangeVer(sheen)\n        if (isHit && this.hitAudio) {\n            this.hitAudio.play();\n            this.hitAudio = null;\n        }\n        return isHit;\n    }\n\n    inRangeHor(sheen) {\n        return ((sheen.x > this.x) && (sheen.x < this.x + this.width)) || ((sheen.x + sheen.width > this.x) && (sheen.x + sheen.width < this.x + this.width))\n    }\n\n    inRangeVer(sheen) {\n        return ((sheen.y < this.topPipeHeight) || (sheen.y + sheen.height > this.canvasHeight - this.bottomPipeHeight))\n    }\n\n    isOffScreen() {\n        return this.x < -this.width;\n    }\n\n    move() {\n        this.x -= this.speed;\n    }\n}\n\nexport default Pipe;","import Sheen from \"./sheen\";\nimport Pipe from \"./pipe\";\n\nclass Game {\n    constructor(ctx, properties) {\n        this.properties = properties;\n\n        // Canvas size\n        this.width = properties.canvasWidth;\n        this.height = properties.canvasHeight;\n\n        this.sheen = new Sheen(ctx, properties);\n        this.pipes = [new Pipe(properties)];\n        this.frameCount = 0;\n        this.movePipe = true;\n        this.started = false;\n        this.ended = false;\n        this.score = 0;\n\n        this.img = new Image();\n        this.img.src = \"assets/background.jpg\";\n    }\n\n    checkCollision() {\n        this.pipes.forEach(pipe => {\n            if (pipe.hit(this.sheen)) {\n                key.unbind(\"space\");\n                this.movePipe = false;\n            }\n        })\n    }\n\n    draw(ctx) {\n        this.frameCount++;\n        this.img.onload = () => {\n            this.drawFrame(ctx);\n        }\n        this.drawFrame(ctx);\n    }\n    \n    drawEndScreen(ctx) {\n        // Score Box\n        ctx.lineWidth = 3;\n        ctx.strokeRect(192, 236, 96, 110);\n        ctx.fillStyle = \"#ffe6b3\";\n        ctx.fillRect(192, 236, 96, 110);\n\n        // Score box text\n        ctx.font = \"13px 'Press Start 2P\";\n        ctx.fillStyle = \"#ff6600\";\n        ctx.textAlign = \"center\";\n        ctx.fillText(\"SCORE\", 240, 280);\n        ctx.font = \"24px 'Press Start 2P\";\n        ctx.fillStyle = \"white\";\n        ctx.textAlign = \"center\";\n        ctx.strokeText(this.score, 240, 320);\n        ctx.fillText(this.score, 240, 320);\n\n        ctx.lineWidth = 10;\n        ctx.strokeStyle = \"white\";\n        ctx.strokeRect(86, 364, 508, 50);\n        ctx.fillStyle = \"#ff6600\";\n        ctx.fillRect(86, 364, 508, 50);\n\n        ctx.font = \"12px 'Press Start 2P'\"\n        ctx.save();\n        ctx.shadowColor = \"black\";\n        ctx.fillStyle = \"white\";\n        ctx.textAlign = \"center\";\n        ctx.fillText(\"PRESS SPACEBAR TO RESTART OR REFRESH PAGE TO CHANGE SETTINGS\", 340, 395);\n        ctx.restore();\n    }\n\n    drawFrame(ctx) {\n        ctx.drawImage(this.img, 0, 0);\n\n        if (this.frameCount % 110 == 0) {\n            this.pipes.push(new Pipe(this.properties))\n        }\n\n        this.drawPipes(ctx);\n        this.removeOffscreenPipes();\n        this.sheen.draw(ctx);\n\n        if (this.sheen.hitGround()) {\n            this.ended = true;\n            this.drawEndScreen(ctx)\n        }\n\n        this.drawScore(ctx);\n\n        if (!this.started) {\n            this.drawStartScreen(ctx);\n        }\n    }\n\n    drawPipes(ctx) {\n        this.pipes.forEach(pipe => pipe.draw(ctx))\n    }\n\n    drawScore(ctx) {\n        if (!this.ended) {\n            ctx.font = \"40px 'Press Start 2P'\";\n            ctx.fillStyle = \"white\";\n            ctx.textAlign = \"center\";\n            ctx.strokeText(this.score, 240, 130);\n            ctx.fillText(this.score, 240, 130);\n        }\n    }\n\n    drawStartScreen(ctx) {\n        ctx.lineWidth = 10;\n        ctx.strokeStyle = \"white\";\n        ctx.strokeRect(96, 213, 488, 50);\n        ctx.fillStyle = \"#ff6600\";\n        ctx.fillRect(96, 213, 488, 50);\n\n        ctx.font = \"12px 'Press Start 2P'\";\n        ctx.save();\n        ctx.shadowColor = \"black\";\n        ctx.fillStyle = \"white\";\n        ctx.textAlign = \"center\";\n        ctx.fillText(\"PRESS SPACEBAR TO START OR REFRESH PAGE TO CHANGE SETTINGS\", 340, 245);\n        ctx.restore();\n    }\n\n    removeOffscreenPipes() {\n        let onScreenPipes = this.pipes.filter(pipe => !pipe.isOffScreen());\n        this.pipes = onScreenPipes;\n    }\n\n    step() {\n        this.sheen.move();\n\n        if (this.movePipe) {\n            this.pipes.forEach(pipe => {\n                pipe.move();\n            })\n        }\n\n        this.checkCollision();\n        this.updateScore();\n    }\n\n    updateScore() {\n        this.pipes.forEach(pipe => {\n            if (!pipe.scored && (this.sheen.x > pipe.x + pipe.width)) {\n                pipe.scored = true;\n                this.score ++;\n            }\n        })\n    }\n}\n\nexport default Game;","import { startGame } from \"./flappy_sheen\";\n\nclass GameView {\n    constructor(game, ctx, properties) {\n        this.ctx = ctx;\n        this.game = game;\n        this.properties = properties;\n\n        this.animate = this.animate.bind(this);\n        this.animation = () => {\n            this.interval = setInterval(this.animate, 20);\n            return this.interval;\n        }\n    }\n\n    animate() {\n        this.game.step();\n        this.game.draw(this.ctx);\n\n        if (!this.game.started) {\n            clearInterval(this.interval);\n        }\n\n        if (this.game.ended) {\n            clearInterval(this.interval);\n            this.bindKeyToRestart();\n        }\n    }\n\n    bindKeyToRestart() {\n        key(\"space\", () => {\n            key.unbind(\"space\");\n            setTimeout(() => startGame(this.properties));\n        })\n    }\n\n    bindKeyToStart() {\n        key(\"space\", () => {\n            key.unbind(\"space\");\n            this.bindKeyToFly();\n            this.animation();\n            this.game.started = true;\n        });\n    }\n\n    bindKeyToFly() {\n        key(\"space\", () => { this.game.sheen.up() })\n    }\n\n    start() {\n        this.bindKeyToStart();\n        this.animation();\n    }\n}\n\nexport default GameView;","import Game from \"./game\";\nimport GameView from \"./game_view\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    if (window.history.replaceState) {\n        window.history.replaceState(null, null, window.location.href);\n    }\n    var pristine;\n    window.onload = function () {\n        var form = document.getElementById(\"myForm\");\n        pristine = new Pristine(form);\n        form.addEventListener('submit', function (e) {\n            e.preventDefault();\n            var valid = pristine.validate();\n            if (valid) {\n                document.getElementById(\"form-container\").style.display = \"none\";\n                const nephew = form[\"nephew\"].value;\n                const pipeWidth = Number(form[\"pipeWidth\"].value);\n                const minPipeHeight = Number(form[\"minPipeHeight\"].value);\n                const maxPipeHeight = Number(form[\"maxPipeHeight\"].value);\n                const minSpaceHeight = Number(form[\"minSpaceHeight\"].value);\n                const maxSpaceHeight = Number(form[\"maxSpaceHeight\"].value);\n                const gravity = Number(form[\"gravity\"].value);\n                const lift = Number(form[\"lift\"].value);\n                const speed = Number(form[\"speed\"].value);\n                console.log(form[\"flyWithHeart\"].value)\n                const flyWithHeart = form[\"flyWithHeart\"].checked;\n\n                const properties = { nephew, pipeWidth, minPipeHeight, maxPipeHeight, minSpaceHeight, maxSpaceHeight, gravity, lift, speed, flyWithHeart }\n                startGame(properties);\n            }\n        });\n    };\n});\n\nexport const startGame = (properties) => {\n    const canvasEl = document.getElementById(\"myCanvas\");\n    canvasEl.style.display = \"block\";\n\n    // Full screen\n    canvasEl.width = window.innerWidth;\n    canvasEl.height = window.innerHeight;\n\n    properties.canvasWidth = canvasEl.width;\n    properties.canvasHeight = canvasEl.height;\n\n    const ctx = canvasEl.getContext(\"2d\");\n    const game = new Game(ctx, properties);\n\n    new GameView(game, ctx, properties).start();\n}\n"],"sourceRoot":""}