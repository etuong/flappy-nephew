{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/sheen.js","webpack:///./lib/pipe.js","webpack:///./lib/game.js","webpack:///./lib/game_view.js","webpack:///./lib/flappy_sheen.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","sheen","[object Object]","game_height","this","y","x","gravity","lift","velocity","ctx","img","Image","src","drawImage","pipe","game_width","width","top","getRandomInt","bottom","calculateBottomPipe","speed","scored","maxSpaceHeight","spaceHeight","gradient","createLinearGradient","addColorStop","lineWidth","strokeRect","fillStyle","fillRect","min","max","Math","floor","random","inRangeHor","inRangeVer","lib_game","height","pipes","frameCount","movePipe","ended","score","forEach","hit","key","unbind","console","log","length","push","draw","isOffscreen","splice","font","fillText","hitGround","move","checkCollision","updateScore","game_view","game","animate","bind","animation","setInterval","step","clearInterval","up","bindKeyHandlers","document","addEventListener","canvasEl","getElementById","getContext","start"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nclass Sheen {\n    constructor(game_height) {\n        this.game_height = game_height;\n\n        // Perfect starting place of a circle is:\n        // y = this.game_height / 2\n        // x = 200\n        // Since we are using a rectangular image in its place, and the placement of the image starts at its upper left corner, we adjust these numbers so that the center of the image is at approx. y = this.game_height / 2 and x = 200\n        // Image size is 80h x 67w\n        this.y = (this.game_height / 2) - 40;\n        this.x = 200 - 33.5;\n\n        this.gravity = 0.7;\n        this.lift = -15;\n        this.velocity = 0;\n    }\n\n    draw(ctx) {\n        const img = new Image();\n        img.src = \"http://res.cloudinary.com/dcf4iyb6t/image/upload/c_scale,w_67/v1523391031/Flappy%20Sheen/imageedit_14_6478900443.png\"\n        // ctx.beginPath();\n        // ctx.arc(this.x, this.y, 20, 0, 2 * Math.PI, true);\n\n        // ctx.strokeStyle = \"green\";\n        // ctx.lineWidth = 5;\n        // ctx.stroke();\n        // ctx.fillStyle = \"blue\";\n        // ctx.fillStyle = img;\n        // ctx.fill();\n\n        ctx.drawImage(img, this.x, this.y);\n    }\n\n\n    hitGround() {\n        return (this.y === this.game_height);\n    }\n\n    move() {\n        this.velocity += this.gravity;\n        this.velocity *= 0.9;\n        this.y += this.velocity;\n\n        // keeps sheen from falling off screen. May want to move these to another function\n        if (this.y > this.game_height) {\n            this.y = this.game_height;\n            this.velocity = 0;\n        }\n\n        // keeps sheen from flying too high\n        if (this.y < 0) {\n            this.y = 0;\n            this.velocity = 0;\n        }\n    }\n\n    up() {\n        this.velocity += this.lift;\n    }\n};\n\nexport default Sheen;","class Pipe {\n    constructor(game_width, game_height) {\n        this.game_height = game_height;\n        this.x = game_width;\n        this.width = 80;\n        this.top = this.getRandomInt(50, 431);\n        this.bottom = this.calculateBottomPipe();\n        this.speed = 3;\n        this.scored = false;\n    }\n\n    // Height of top pipe is randomly generated.\n    // Possible range of space is then calculated, then randomly generated.\n    // Calculate height of bottom pipe based on top pipe and space in between.\n    // Min/max height for space: 160/240\n    // Min/max height for pipe: 50/430\n    calculateBottomPipe() {\n        const spaceAndBottomHeight = this.game_height - this.top;\n        const maxSpaceHeight = spaceAndBottomHeight - 50;\n        let spaceHeight;\n\n        if (maxSpaceHeight > 240) {\n            spaceHeight = this.getRandomInt(160, 241);\n        } else {\n            spaceHeight = this.getRandomInt(160, maxSpaceHeight)\n        }\n    \n        return this.game_height - this.top - spaceHeight;\n    }\n\n    draw(ctx) {\n        let gradient = ctx.createLinearGradient(this.x, 0, this.x + this.width, 0);\n        gradient.addColorStop(0, \"#33cc33\")\n        gradient.addColorStop(1, \"#99ff99\")\n\n        // Top Pipe\n        ctx.lineWidth = 3;\n        ctx.strokeRect(this.x, 0, this.width, this.top - 20);\n        ctx.fillStyle = gradient;\n        ctx.fillRect(this.x, 0, this.width, this.top - 20);\n        ctx.strokeRect(this.x - 5, this.top - 20, this.width + 10, 20);\n        ctx.fillRect(this.x - 5, this.top - 20, this.width + 10, 20);\n\n        // Bottom Pipe\n        ctx.strokeRect(this.x, this.game_height - (this.bottom - 20), this.width, this.bottom);\n        ctx.fillRect(this.x, this.game_height - (this.bottom - 20), this.width, this.bottom);\n        ctx.strokeRect(this.x - 5, this.game_height - this.bottom, this.width + 10, 20);\n        ctx.fillRect(this.x - 5, this.game_height - this.bottom, this.width + 10, 20);\n    }\n\n    getRandomInt(min, max) {\n        return Math.floor(Math.random() * (max - min)) + min;\n    }\n\n    hit(sheen) {\n        return (this.inRangeHor(sheen) && this.inRangeVer(sheen))\n    }\n\n    // 67 is width of Sheen\n    inRangeHor(sheen) {\n        return ((sheen.x > this.x) && (sheen.x < this.x + this.width)) || ((sheen.x + 67 > this.x) && (sheen.x + 67 < this.x + this.width))\n    }\n\n    // 80 is height of Sheen\n    inRangeVer(sheen) {\n        return ((sheen.y < this.top) || (sheen.y + 80 > this.game_height - this.bottom))\n    }\n\n    isOffscreen() {\n        return this.x < -this.width;\n    }\n\n    move() {\n        this.x -= this.speed;\n    }\n}\n\nexport default Pipe;","import Sheen from \"./sheen\";\nimport Pipe from \"./pipe\";\n\nclass Game {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n        this.sheen = new Sheen(height);\n        this.pipes = [new Pipe(width, height)];\n        this.frameCount = 0;\n        this.movePipe = true;\n        this.ended = false;\n        this.score = 0;\n    }\n\n    checkCollision() {\n        this.pipes.forEach(pipe => {\n            if (pipe.hit(this.sheen)) {\n                key.unbind(\"space\");\n                this.movePipe = false;\n            }\n        })\n    }\n\n    draw(ctx) {\n        console.log(\"drawing...\")\n        console.log(this.pipes.length)\n        this.frameCount ++;\n\n        const img = new Image();\n        img.src = \"http://res.cloudinary.com/dcf4iyb6t/image/upload/v1523320487/Flappy%20Sheen/cloud_background.jpg\";\n        ctx.fillRect(0, 0, this.width, this.height);\n        ctx.drawImage(img, 0, 0);\n\n        if (this.frameCount % 110 == 0) {\n            this.pipes.push(new Pipe(this.width, this.height))\n        }\n\n        for (let i = this.pipes.length - 1; i >= 0; i--) {\n            this.pipes[i].draw(ctx);\n            if (this.pipes[i].isOffscreen()) {\n                this.pipes.splice(i, 1);\n            }\n        }\n\n        this.sheen.draw(ctx);\n\n        ctx.font = \"48px Comic Sans MS\"\n        ctx.fillStyle = \"white\";\n        ctx.fillText(this.score, (this.width/2 - 30), 130);\n\n        if (this.sheen.hitGround()) {\n            this.ended = true;\n        }\n    }\n    \n    step() {\n        this.sheen.move();\n\n        if (this.movePipe) {\n            this.pipes.forEach(pipe => {\n                pipe.move();\n            })\n        }\n\n        this.checkCollision();\n        this.updateScore();\n    }\n\n    updateScore() {\n        this.pipes.forEach(pipe => {\n            if (!pipe.scored && (this.sheen.x > pipe.x + pipe.width)) {\n                pipe.scored = true;\n                this.score ++;\n            }\n        })\n    }\n}\n\nexport default Game;","class GameView {\n    constructor(game, ctx) {\n        this.ctx = ctx;\n        this.game = game;\n\n        \n        this.animate = this.animate.bind(this);\n        this.animation = setInterval(this.animate, 20);\n    }\n\n    animate() {\n        this.game.step();\n        this.game.draw(this.ctx);\n\n        if (this.game.ended) {\n            clearInterval(this.animation);\n        }\n        // requestAnimationFrame(this.animate());\n    }\n\n    bindKeyHandlers() {\n        key(\"space\", () => { this.game.sheen.up() })\n    }\n\n    start() {\n        this.bindKeyHandlers();\n        this.animation;\n        // requestAnimationFrame(this.animate());\n    }\n}\n\nexport default GameView;","import Sheen from \"./sheen\";\nimport Game from \"./game\";\nimport GameView from \"./game_view\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const canvasEl = document.getElementById(\"myCanvas\");\n    canvasEl.width = 480;\n    canvasEl.height = 640;\n\n    const ctx = canvasEl.getContext(\"2d\");\n    const game = new Game(canvasEl.width, canvasEl.height);\n    new GameView(game, ctx).start();\n});"],"sourceRoot":""}